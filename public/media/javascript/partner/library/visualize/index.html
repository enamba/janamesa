<html>
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<title>Demo page</title>
		<link type="text/css" rel="stylesheet" href="css/visualize.css"/>
		<link type="text/css" rel="stylesheet" href="css/visualize-dark.css"/>
		<link type="text/css" rel="stylesheet" href="demopage.css"/>
		<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.min.js"></script>
		<!--[if IE]><script type="text/javascript" src="excanvas.compiled.js"></script><![endif]-->
		<script type="text/javascript" src="visualize.jQuery.js"></script>
		<script type="text/javascript">
			// Return a boolean value telling whether the first argument is a string. 
			// We can use this to easily identify string-type labels in the label-filter
			function isString() {
				if (typeof arguments[0] == 'string') return true;
				if (typeof arguments[0] == 'object') {  
					var criterion = arguments[0].constructor.toString().match(/string/i); 
					return (criterion != null);  
				}
				return false;
			}
		</script>
		<script type="text/javascript">
			$(function(){
				//make some charts
				$('table.pie').visualize({type: 'pie', pieMargin: 10, title: '2009 Total Sales by Individual'});
				$('table.line').visualize({type: 'line'});
				$('table.area').visualize({type: 'area'});
				$('table.bar').visualize({type: 'bar', barDirection: 'vertical'});
				
				$('table.line_filter').visualize({
					type: 'line',
					labelFilter: function(label) {
						// If this is a number, then format as money
						// with a $ and two decimal places
						if(!isNaN(label) && parseFloat(label)) {
							var dec = 2;
							// Round number to correct decimal places
							label = Math.round(label*Math.pow(10,dec))/Math.pow(10,dec);
							// Pad decimals if necessary, i.e. 9.5 -> 9.50
							return '$ ' + label.toFixed(dec);
						}
						else if(isString(label)) {
							// I know we can use css to style capitalization.
							// This is simply to demonstrate how we can conditionally
							// filter string-type lables if needed
							// borrowed from http://phpjs.org/functions/ucwords:569
							return (label + '').replace(/^([a-z])|\s+([a-z])/g, function ($1) {
								return $1.toUpperCase();
							});
						}
						return label;
					}
				});
				
			});
		</script>
	</head>
	<body>
<h1>jQuery Visualize demos</h1>

<h2>Charts from the same data</h2>

<table class="pie line area bar">
	<caption>2009 Employee Sales by Department</caption>
	<thead>
		<tr>
			<td></td>
			<th>food</th>
			<th>auto</th>
			<th>household</th>
			<th>furniture</th>
			<th>kitchen</th>
			<th>bath</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<th>Mary</th>
			<td>190</td>
			<td>0</td>
			<td>40</td>
			<td>120</td>
			<td>30</td>
			<td>-70</td>
		</tr>
		<tr>
			<th>Tom</th>
			<td>-3</td>
			<td>40</td>
			<td>30</td>
			<td>45</td>
			<td>35</td>
			<td>49</td>
		</tr>
		<tr>
			<th>Brad</th>
			<td>10</td>
			<td>180</td>
			<td>10</td>
			<td>85</td>
			<td>25</td>
			<td>79</td>
		</tr>
		<tr>
			<th>Kate</th>
			<td>40</td>
			<td>80</td>
			<td>90</td>
			<td>25</td>
			<td>15</td>
			<td>119</td>
		</tr>
	</tbody>
</table>

<h2>Pie charts</h2>

<table class="bar">
	<caption>2009 Employee Sales by Department</caption>
	<thead>
		<tr>
			<td></td>
			<th>food</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<th>Mary</th>
			<td>50</td>
		</tr>
		<tr>
			<th>Tom</th>
			<td>10</td>
		</tr>
		<tr>
			<th>Brad</th>
			<td>54</td>
		</tr>
		<tr>
			<th>Kate</th>
			<td>34</td>
		</tr>
	</tbody>
</table>
<table class="pie">
	<caption>2009 Employee Sales by Department</caption>
	<thead>
		<tr>
			<td></td>
			<th>food</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<th>Mary</th>
			<td>0</td>
		</tr>
		<tr>
			<th>Tom</th>
			<td>1</td>
		</tr>
		<tr>
			<th>Brad</th>
			<td>1</td>
		</tr>
		<tr>
			<th>Kate</th>
			<td>98</td>
		</tr>
	</tbody>
</table>
<table class="pie">
	<caption>2009 Employee Sales by Department</caption>
	<thead>
		<tr>
			<td></td>
			<th>food</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<th>Mary</th>
			<td>10</td>
		</tr>
		<tr>
			<th>Tom</th>
			<td>10</td>
		</tr>
		<tr>
			<th>Brad</th>
			<td>0</td>
		</tr>
		<tr>
			<th>Kate</th>
			<td>80</td>
		</tr>
	</tbody>
</table>
<table class="pie">
	<caption>2009 Employee Sales by Department</caption>
	<thead>
		<tr>
			<td></td>
			<th>food</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<th>Mary</th>
			<td>2345</td>
		</tr>
		<tr>
			<th>Tom</th>
			<td>346</td>
		</tr>
		<tr>
			<th>Brad</th>
			<td>0</td>
		</tr>
		<tr>
			<th>Kate</th>
			<td>5778</td>
		</tr>
	</tbody>
<table class="pie">
	<caption>2009 Employee Sales by Department</caption>
	<thead>
		<tr>
			<td></td>
			<th>food</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<th>Mary</th>
			<td>10</td>
		</tr>
		<tr>
			<th>Tom</th>
			<td>10</td>
		</tr>
		<tr>
			<th>Brad</th>
			<td>1</td>
		</tr>
		<tr>
			<th>Kate</th>
			<td>79</td>
		</tr>
	</tbody>
</table>


<h2>Filtered Labels</h2>
<p>The labels in this graph are filtered using the <i>labelFilter</i> option.</p>
<p>Notice each x-axis label is Capitalized and each y-axis label is formatted as money.</p>

<table class="line_filter">
	<caption>2009 Employee Sales by Department</caption>
	<thead>
		<tr>
			<td></td>
			<th>food</th>
			<th>auto</th>
			<th>household</th>
			<th>furniture</th>
			<th>kitchen</th>
			<th>bath</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<th>Mary</th>
			<td>193.53449</td>
			<td>0</td>
			<td>40.445</td>
			<td>120.995</td>
			<td>30</td>
			<td>-70.3987</td>
		</tr>
		<tr>
			<th>Tom</th>
			<td>-3.5</td>
			<td>40.4456</td>
			<td>30</td>
			<td>45</td>
			<td>35</td>
			<td>49.5398</td>
		</tr>
		<tr>
			<th>Brad</th>
			<td>10</td>
			<td>180</td>
			<td>10</td>
			<td>85</td>
			<td>25</td>
			<td>79</td>
		</tr>
		<tr>
			<th>Kate</th>
			<td>40</td>
			<td>80</td>
			<td>90.445</td>
			<td>25.556</td>
			<td>15</td>
			<td>119.998</td>
		</tr>
	</tbody>
</table>



	</body>
</html>
